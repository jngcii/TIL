# merge

###### 2020.06.24

- 협업의 핵심
- 다른 브랜치와 현재 브랜치를 합쳐서 최종적으로 코드르 합친다.
- 방식
  - Fast-Forward
    - A브랜치에서 다른 B브랜치를 Merge할 때, B브랜치가 A브랜치 이후의 커밋을 가리키고 있으면, 그저 A브랜치가 B브랜치와 동일한 커밋을 가리키도록 이동 시킬 뿐이다
    - 브랜치 포인터는 Merge과정 없이, 그저 최신 커밋으로 이동한다.
    - Merge 이후 더이상 필요 없는 브랜치는 삭제한다.
  - 3-way Merge
    ![](./assets/basic-branching-6.png)
    - iss53 브랜치는 master 브랜치 이후의 커밋이 아닌 그저 같은 커밋으로부터 나온 브랜치이다.
    - 즉, iss53 브랜치가 master로부터 따로 생성되어 나와 작업을 한 이후에 master 브랜치에서 새로운 commit이 있었다는 뜻이다.
    - 이럴 경우 최신 iss53 브랜치는 master 브랜치의 최신 상태를 가지고 있지 않다.
    - 이 상황에서 iss53 브랜치를 master 브랜치로 merge할 때, Git은 각 브랜치가 가리키는 commit 두 개와 공통 조상 하나를 이용하여 3-way Merge를 한다.
    - 단순히 브랜치 포인터를 최신으로 옮기는 게 아니라 3-way Merge의 결과를 별도의 커밋으로 만들고 나서 합쳐지는 브랜치가 그 커밋을 가리키도록 이동시킨다.
    - 여기서 충돌이 날 수 있는데, `git st` 명령어를 통해 확인해 보면 `unmerged` 부분을 확인할 수 있다.